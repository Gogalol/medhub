function showNotification({top:t=0,right:e=0,className:o,html:i}){let n=document.createElement("div");n.className="notification",o&&n.classList.add(o),n.style.top=t+"px",n.style.right=e+"px",n.style.position="absolute",n.style.backgroundColor="#34c992",n.style.boxShadow="0 11px 17px 0 rgba(23,32,61,.13)",n.style.borderRadius="2px",n.style.padding="8px",n.style.fontSize="0.6em",n.style.textAlign="left",n.style.color="white",n.style.animationName="bounceIn",n.style.animationDuration="600ms",n.style.animationIterationCount="1",n.innerHTML=i,document.body.append(n),setTimeout(()=>{n.remove()},5500)}document.addEventListener("DOMContentLoaded",()=>{let t=window.location.origin+window.location.pathname,e=[{page:"add",action:"store",redirect:"",message:"Данные добавлены"},{page:"edit",action:"update",redirect:"",message:"Данные обновлены"},{page:"warning",action:"delete",redirect:"../home",message:"Данные удалены"}].filter(e=>e.page===t.split("/").pop());document.querySelectorAll("form").forEach(t=>{t.addEventListener("submit",function(o){o.preventDefault(),(async t=>{const o=await fetch(e[0].action,{method:"POST",body:t});if(!o.ok)throw new Error(`Ошибка по адресу ${url}, статус ошибки ${o.status}`);return await o.text()})(new FormData(this)).then(o=>{showNotification({top:10,right:10,html:e[0].message}),console.log(o),t.reset()}).catch(t=>console.error(t)),setTimeout(function(){e[0].redirect&&(location=e[0].redirect)},1e3)})})});